---
description: ìƒˆê¹€(Saegim) í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê·œì¹™ - Next.js 15 + TypeScript + Tailwind + Zustand
globs:
  - 'src/**/*.{ts,tsx,js,jsx,css}'
  - '*.config.{ts,js}'
  - 'tailwind.config.ts'
  - 'next.config.ts'
  - 'package.json'
excludeGlobs:
  - 'node_modules/**'
  - '.next/**'
  - 'dist/**'
  - 'build/**'
  - '**/*.test.{ts,tsx,js,jsx}'
  - '**/*.spec.{ts,tsx,js,jsx}'
  - '**/*.d.ts'
alwaysApply: false
---

# ìƒˆê¹€(Saegim) Frontend Development Rules

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

- **ì„œë¹„ìŠ¤ëª…**: ìƒˆê¹€(Saegim) - ê°ì„± AI ë‹¤ì´ì–´ë¦¬
- **ê¸°ìˆ  ìŠ¤íƒ**: Next.js 15 + TypeScript + Tailwind CSS + Zustand 5.x
- **ë°±ì—”ë“œ**: FastAPI (ë³„ë„ ì„œë²„)
- **ì–¸ì–´**: í•œêµ­ì–´ ê¸°ë°˜ (lang="ko")
- **UI**: ë°˜ì‘í˜• ì›¹, ëª¨ë°”ì¼ ìš°ì„ 

## ğŸ“ ë””ë ‰í„°ë¦¬ êµ¬ì¡° (src/ ê¸°ë°˜)

```
src/
â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx    # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (í•œêµ­ì–´, ë©”íƒ€ë°ì´í„°)
â”‚   â”œâ”€â”€ page.tsx      # í™ˆí˜ì´ì§€
â”‚   â”œâ”€â”€ globals.css   # ì „ì—­ ìŠ¤íƒ€ì¼ (ë””ìì¸ ì‹œìŠ¤í…œ)
â”‚   â””â”€â”€ [routes]/     # ê° ë¼ìš°íŠ¸ë³„ í˜ì´ì§€
â”œâ”€â”€ components/       # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/          # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ (ë²„íŠ¼, ì…ë ¥ ë“±)
â”‚   â”œâ”€â”€ layout/      # ë ˆì´ì•„ì›ƒ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ features/    # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ stores/          # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ auth-store.ts      # ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ
â”‚   â”œâ”€â”€ diary-store.ts     # ë‹¤ì´ì–´ë¦¬ CRUD
â”‚   â”œâ”€â”€ ai-store.ts        # AI ìƒì„± ì½˜í…ì¸ 
â”‚   â”œâ”€â”€ emotion-store.ts   # ê°ì • ì„ íƒ/ê´€ë¦¬
â”‚   â””â”€â”€ ui-store.ts        # UI ìƒíƒœ (ëª¨ë‹¬, ë¡œë”©)
â”œâ”€â”€ types/           # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ index.ts     # ê³µí†µ íƒ€ì… (EmotionType ë“±)
â”‚   â”œâ”€â”€ api.ts       # API ì‘ë‹µ íƒ€ì…
â”‚   â””â”€â”€ store.ts     # ìŠ¤í† ì–´ íƒ€ì…
â”œâ”€â”€ lib/             # ë¼ì´ë¸ŒëŸ¬ë¦¬, ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ api.ts       # API í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
â”‚   â”œâ”€â”€ utils.ts     # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ constants.ts # ìƒìˆ˜ ì •ì˜
â”œâ”€â”€ hooks/           # ì»¤ìŠ¤í…€ React í›…
â”‚   â”œâ”€â”€ use-auth.ts  # ì¸ì¦ ê´€ë ¨ í›…
â”‚   â””â”€â”€ use-api.ts   # API í˜¸ì¶œ í›…
â””â”€â”€ utils/           # í—¬í¼ í•¨ìˆ˜
```

## ğŸ“ ë„¤ì´ë° ì»¨ë²¤ì…˜

### íŒŒì¼/í´ë”

- íŒŒì¼: `kebab-case.tsx` (ì˜ˆ: `auth-store.ts`, `diary-list.tsx`)
- í´ë”: `kebab-case` (ì˜ˆ: `components/`, `auth-pages/`)
- ì»´í¬ë„ŒíŠ¸ íŒŒì¼: `PascalCase.tsx` ë˜ëŠ” `kebab-case.tsx`

### ì½”ë“œ

- **ì»´í¬ë„ŒíŠ¸**: `PascalCase` (ì˜ˆ: `DiaryCard`, `EmotionSelector`)
- **í•¨ìˆ˜/ë³€ìˆ˜**: `camelCase` (ì˜ˆ: `getUserData`, `isAuthenticated`)
- **ìƒìˆ˜**: `UPPER_SNAKE_CASE` (ì˜ˆ: `API_BASE_URL`, `EMOTION_COLORS`)
- **íƒ€ì…/ì¸í„°í˜ì´ìŠ¤**: `PascalCase` (ì˜ˆ: `EmotionType`, `DiaryResponse`)
- **Zustand ìŠ¤í† ì–´**: `camelCase` (ì˜ˆ: `useAuthStore`, `useDiaryStore`)

## âš›ï¸ React & Next.js ê·œì¹™

### ì»´í¬ë„ŒíŠ¸ ì‘ì„±

```tsx
// âœ… ì˜¬ë°”ë¥¸ íŒ¨í„´
export default function DiaryCard({ title, emotion }: DiaryCardProps) {
  return (
    <div className="bg-background-primary p-4">
      <h3 className="text-h3 text-text-primary">{title}</h3>
    </div>
  );
}

// âŒ ì˜ëª»ëœ íŒ¨í„´
const DiaryCard = ({ title, emotion }) => {
  /* ... */
};
```

### App Router íŒŒì¼ ê·œì¹™

- `layout.tsx`: ë ˆì´ì•„ì›ƒ ì •ì˜
- `page.tsx`: í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
- `loading.tsx`: ë¡œë”© UI
- `error.tsx`: ì—ëŸ¬ í•¸ë“¤ë§
- `not-found.tsx`: 404 í˜ì´ì§€

### ë¼ìš°íŒ…

- **ì •ì  ë¼ìš°íŠ¸**: `app/diary/page.tsx` â†’ `/diary`
- **ë™ì  ë¼ìš°íŠ¸**: `app/diary/[id]/page.tsx` â†’ `/diary/123`
- **ê·¸ë£¹**: `app/(auth)/login/page.tsx` (URLì— ì˜í–¥ ì—†ìŒ)

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ & ìŠ¤íƒ€ì¼ë§

### Tailwind CSS í´ë˜ìŠ¤ ìš°ì„ ìˆœìœ„

1. **ë¸Œëœë“œ ì»¬ëŸ¬**: `bg-sage-50`, `text-sage-100`
2. **ì˜ë¯¸ë¡ ì  í† í°**: `bg-background-primary`, `text-text-primary`
3. **ê°ì •ë³„ ìƒ‰ìƒ**: `bg-emotion-happy`, `text-emotion-sad`

### ê°ì •ë³„ ìƒ‰ìƒ ì‹œìŠ¤í…œ

```tsx
// âœ… ê°ì •ë³„ ìƒ‰ìƒ ì‚¬ìš©
const emotionColors = {
  happy: 'bg-emotion-happy',
  sad: 'bg-emotion-sad',
  angry: 'bg-emotion-angry',
  peaceful: 'bg-emotion-peaceful',
  worried: 'bg-emotion-worried',
} as const;
```

### ë°˜ì‘í˜• í´ë˜ìŠ¤

- ëª¨ë°”ì¼ ìš°ì„ : `text-sm md:text-base lg:text-lg`
- ì»¨í…Œì´ë„ˆ: `container mx-auto px-4`
- ê·¸ë¦¬ë“œ: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3`

## ğŸ”„ Zustand ìƒíƒœê´€ë¦¬ íŒ¨í„´

### ìŠ¤í† ì–´ ì‘ì„± ê·œì¹™

```tsx
// âœ… ì˜¬ë°”ë¥¸ Zustand íŒ¨í„´
export const useAuthStore = create<AuthState>((set, get) => ({
  user: null,
  isAuthenticated: false,
  login: (userData) => set({ user: userData, isAuthenticated: true }),
  logout: () => set({ user: null, isAuthenticated: false }),
}));

// ì‚¬ìš©ë²•
const { user, login } = useAuthStore();
```

### ìŠ¤í† ì–´ êµ¬ì¡°

- **ìƒíƒœ**: ë°ì´í„° ì €ì¥
- **ì•¡ì…˜**: ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
- **Computed**: íŒŒìƒ ìƒíƒœ (get í™œìš©)

## ğŸŒ API í†µì‹ 

### API í´ë¼ì´ì–¸íŠ¸ íŒ¨í„´

```tsx
// âœ… API í˜¸ì¶œ íŒ¨í„´
const api = {
  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL,

  async post<T>(endpoint: string, data: any): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data),
    });
    return response.json();
  },
};
```

### í™˜ê²½ë³€ìˆ˜

- **ê³µê°œ**: `NEXT_PUBLIC_` ì ‘ë‘ì‚¬ í•„ìˆ˜
- **ë¹„ê³µê°œ**: ì„œë²„ ì‚¬ì´ë“œì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

## ğŸ”’ íƒ€ì… ì•ˆì „ì„±

### ì—„ê²©í•œ TypeScript

```tsx
// âœ… ì—„ê²©í•œ íƒ€ì… ì •ì˜
export type EmotionType = 'happy' | 'sad' | 'angry' | 'peaceful' | 'worried';

export interface DiaryEntry {
  id: string;
  title: string;
  content: string;
  emotion: EmotionType;
  createdAt: string;
  keywords: string[];
}

// âŒ any ì‚¬ìš© ê¸ˆì§€
const data: any = response.data; // ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”
```

### Props íƒ€ì… ì •ì˜

```tsx
interface DiaryCardProps {
  diary: DiaryEntry;
  onEdit?: (id: string) => void;
  className?: string;
}
```

## ğŸš« ê¸ˆì§€ ì‚¬í•­

### ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ

- `any` íƒ€ì… ì‚¬ìš©
- inline ìŠ¤íƒ€ì¼ (style={{}}) ì‚¬ìš©
- ì§ì ‘ì ì¸ DOM ì¡°ì‘
- `var` í‚¤ì›Œë“œ ì‚¬ìš©
- í•˜ë“œì½”ë”©ëœ ìƒ‰ìƒê°’ (Tailwind í´ë˜ìŠ¤ ì‚¬ìš©)
- `console.log` í”„ë¡œë•ì…˜ ì½”ë“œì— ë‚¨ê¸°ê¸°
- í•œê¸€ ë³€ìˆ˜/í•¨ìˆ˜ëª…

### Next.js íŠ¹í™” ê¸ˆì§€ì‚¬í•­

- `<img>` íƒœê·¸ (next/image ì‚¬ìš©)
- `<a>` íƒœê·¸ (next/link ì‚¬ìš©)
- `<script>` íƒœê·¸ (next/script ì‚¬ìš©)
- pages í´ë” ì‚¬ìš© (App Router ì „ìš©)

## âœ… ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### ì„±ëŠ¥ ìµœì í™”

- `next/image` ì‚¬ìš©ìœ¼ë¡œ ì´ë¯¸ì§€ ìµœì í™”
- ë™ì  importë¡œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- `loading.tsx`ë¡œ ë¡œë”© ìƒíƒœ ì²˜ë¦¬
- ì ì ˆí•œ ìºì‹± ì „ëµ

### ì ‘ê·¼ì„± (a11y)

- `alt` ì†ì„± í•„ìˆ˜
- `aria-label` ì ì ˆíˆ ì‚¬ìš©
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
- ìƒ‰ìƒë§Œìœ¼ë¡œ ì •ë³´ ì „ë‹¬ ê¸ˆì§€

### ì½”ë“œ í’ˆì§ˆ

- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ìš°ì„ 
- ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¡œì§ ë¶„ë¦¬
- ì¡°ê¸° ë°˜í™˜ (early return) íŒ¨í„´
- ì˜ë¯¸ ìˆëŠ” ë³€ìˆ˜ëª… ì‚¬ìš©

### í•œêµ­ì–´ ì²˜ë¦¬

- `lang="ko"` ì„¤ì •
- í•œêµ­ì–´ í°íŠ¸ (`Pretendard`, `Noto Serif KR`) ì‚¬ìš©
- ë‚ ì§œ/ì‹œê°„ í•œêµ­ í˜•ì‹ ì²˜ë¦¬
- ì ì ˆí•œ ì¤„ë°”ê¿ˆê³¼ ì—¬ë°±

## ğŸ¯ ìƒˆê¹€ í”„ë¡œì íŠ¸ íŠ¹í™” ê·œì¹™

### ê°ì • ë°ì´í„° ì²˜ë¦¬

```tsx
// âœ… ê°ì • íƒ€ì… ì²´í¬
const isValidEmotion = (emotion: string): emotion is EmotionType => {
  return ['happy', 'sad', 'angry', 'peaceful', 'worried'].includes(emotion);
};
```

### AI ìƒì„± ì½˜í…ì¸ 

- ì‚¬ìš©ì ì…ë ¥ê³¼ AI ìƒì„± ì½˜í…ì¸  ëª…í™•íˆ êµ¬ë¶„
- AI ì‘ë‹µ ì—ëŸ¬ ì²˜ë¦¬ í•„ìˆ˜
- ì ì ˆí•œ ë¡œë”© ìƒíƒœ í‘œì‹œ

### ë‹¤ì´ì–´ë¦¬ ì‘ì„± í”Œë¡œìš°

1. ê°ì • ì„ íƒ â†’ 2. í‚¤ì›Œë“œ ì…ë ¥ â†’ 3. ë³¸ë¬¸ ì‘ì„± â†’ 4. AI ìƒì„± â†’ 5. ì €ì¥

### ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì›ì¹™

- ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜
- Props drilling ìµœì†Œí™” (Zustand í™œìš©)
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ UI ë¶„ë¦¬

### ì—ëŸ¬ ì²˜ë¦¬

```tsx
// âœ… ì—ëŸ¬ ê²½ê³„ í™œìš©
export default function DiaryPage() {
  return (
    <ErrorBoundary fallback={<ErrorMessage />}>
      <DiaryList />
    </ErrorBoundary>
  );
}
```

### ë¡œë”© ìƒíƒœ ê´€ë¦¬

```tsx
// âœ… ì ì ˆí•œ ë¡œë”© í‘œì‹œ
export default function DiaryList() {
  const { diaries, isLoading, error } = useDiaryStore();

  if (isLoading) return <LoadingSpinner />;
  if (error) return <ErrorMessage error={error} />;

  return <div>{/* ì»¨í…ì¸  */}</div>;
}
```

ì´ ê·œì¹™ì„ ë”°ë¼ ì¼ê´€ë˜ê³  ê³ í’ˆì§ˆì˜ ìƒˆê¹€ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”!
